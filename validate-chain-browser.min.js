!function t(e,i,r){function n(a,u){if(!i[a]){if(!e[a]){var o="function"==typeof require&&require;if(!u&&o)return o(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return n(i?i:t)},h,h.exports,t,e,i,r)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,i){function r(){}var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var i=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var r=i.shift();r()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],2:[function(t,e,i){!function(t,r){"undefined"!=typeof i&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&"object"==typeof define.amd?define(r):this[t]=r()}("validator",function(t){"use strict";function e(t,e){t=t||{};for(var i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t}function i(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),i="-?",r="[1-9]\\d*",n="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",s=["0",r,n],a="("+s.join("|")+")?",u="(\\"+t.decimal_separator+"\\d{2})?",o=a+u;return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?o+=i:t.negative_sign_before_digits&&(o=i+o)),t.allow_negative_sign_placeholder?o="( (?!\\-))?"+o:t.allow_space_after_symbol?o=" ?"+o:t.allow_space_after_digits&&(o+="( (?!$))?"),t.symbol_after_digits?o+=e:o=e+o,t.allow_negatives&&(t.parens_for_negatives?o="(\\("+o+"\\)|"+o+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(o=i+o)),new RegExp("^(?!-? )(?=.*\\d)"+o+"$")}t={version:"4.0.6"};var r=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,n=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,a=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,o=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,h=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,l=/^(?:[0-9]{9}X|[0-9]{10})$/,f=/^(?:[0-9]{13})$/,c=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,d=/^[0-9A-F]{1,4}$/i,p={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},y=/^[A-Z]+$/i,g=/^[0-9A-Z]+$/i,v=/^[-+]?[0-9]+$/,x=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,F=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,_=/^[0-9A-F]+$/i,k=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,w=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,A=/^[\x00-\x7F]+$/,m=/[^\x00-\x7F]/,b=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,$=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,S=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,D={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+30)?((2\d{9})|(69\d{8}))$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/},V=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.extend=function(e,i){t[e]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=t.toString(e[0]),i.apply(t,e)}},t.init=function(){for(var e in t)"function"==typeof t[e]&&"toString"!==e&&"toDate"!==e&&"extend"!==e&&"init"!==e&&t.extend(e,t[e])},t.toString=function(t){return"object"==typeof t&&null!==t&&t.toString?t=t.toString():null===t||"undefined"==typeof t||isNaN(t)&&!t.length?t="":"string"!=typeof t&&(t+=""),t},t.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},t.toFloat=function(t){return parseFloat(t)},t.toInt=function(t,e){return parseInt(t,e||10)},t.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},t.equals=function(e,i){return e===t.toString(i)},t.contains=function(e,i){return e.indexOf(t.toString(i))>=0},t.matches=function(t,e,i){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,i)),e.test(t)};var I={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0};t.isEmail=function(i,o){if(o=e(o,I),o.allow_display_name){var h=i.match(u);h&&(i=h[1])}var l=i.split("@"),f=l.pop(),c=l.join("@"),d=f.toLowerCase();if(("gmail.com"===d||"googlemail.com"===d)&&(c=c.replace(/\./g,"").toLowerCase()),!t.isByteLength(c,0,64)||!t.isByteLength(f,0,256))return!1;if(!t.isFQDN(f,{require_tld:o.require_tld}))return!1;if('"'===c[0])return c=c.slice(1,c.length-1),o.allow_utf8_local_part?a.test(c):n.test(c);for(var p=o.allow_utf8_local_part?s:r,y=c.split("."),g=0;g<y.length;g++)if(!p.test(y[g]))return!1;return!0};var O={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};t.isURL=function(i,r){if(!i||i.length>=2083||/\s/.test(i))return!1;if(0===i.indexOf("mailto:"))return!1;r=e(r,O);var n,s,a,u,o,h,l;if(l=i.split("://"),l.length>1){if(n=l.shift(),r.require_valid_protocol&&-1===r.protocols.indexOf(n))return!1}else{if(r.require_protocol)return!1;r.allow_protocol_relative_urls&&"//"===i.substr(0,2)&&(l[0]=i.substr(2))}return i=l.join("://"),l=i.split("#"),i=l.shift(),l=i.split("?"),i=l.shift(),l=i.split("/"),i=l.shift(),l=i.split("@"),l.length>1&&(s=l.shift(),s.indexOf(":")>=0&&s.split(":").length>2)?!1:(u=l.join("@"),l=u.split(":"),a=l.shift(),l.length&&(h=l.join(":"),o=parseInt(h,10),!/^[0-9]+$/.test(h)||0>=o||o>65535)?!1:t.isIP(a)||t.isFQDN(a,r)||"localhost"===a?r.host_whitelist&&-1===r.host_whitelist.indexOf(a)?!1:r.host_blacklist&&-1!==r.host_blacklist.indexOf(a)?!1:!0:!1)},t.isIP=function(e,i){if(i=t.toString(i),!i)return t.isIP(e,4)||t.isIP(e,6);if("4"===i){if(!c.test(e))return!1;var r=e.split(".").sort(function(t,e){return t-e});return r[3]<=255}if("6"===i){var n=e.split(":"),s=!1,a=t.isIP(n[n.length-1],4),u=a?7:8;if(n.length>u)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(n.shift(),n.shift(),s=!0):"::"===e.substr(e.length-2)&&(n.pop(),n.pop(),s=!0);for(var o=0;o<n.length;++o)if(""===n[o]&&o>0&&o<n.length-1){if(s)return!1;s=!0}else if(a&&o==n.length-1);else if(!d.test(n[o]))return!1;return s?n.length>=1:n.length===u}return!1};var C={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.isFQDN=function(t,i){i=e(i,C),i.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var r=t.split(".");if(i.require_tld){var n=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n))return!1}for(var s,a=0;a<r.length;a++){if(s=r[a],i.allow_underscores){if(s.indexOf("__")>=0)return!1;s=s.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(s))return!1;if(/[\uff01-\uff5e]/.test(s))return!1;if("-"===s[0]||"-"===s[s.length-1]||s.indexOf("---")>=0)return!1}return!0},t.isBoolean=function(t){return["true","false","1","0"].indexOf(t)>=0},t.isAlpha=function(t){return y.test(t)},t.isAlphanumeric=function(t){return g.test(t)},t.isNumeric=function(t){return v.test(t)},t.isDecimal=function(t){return""!==t&&k.test(t)},t.isHexadecimal=function(t){return _.test(t)},t.isHexColor=function(t){return w.test(t)},t.isLowercase=function(t){return t===t.toLowerCase()},t.isUppercase=function(t){return t===t.toUpperCase()},t.isInt=function(t,e){return e=e||{},x.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isFloat=function(t,e){return e=e||{},""!==t&&F.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isDivisibleBy=function(e,i){return t.toFloat(e)%t.toInt(i)===0},t.isNull=function(t){return 0===t.length},t.isLength=function(t,e,i){var r=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],n=t.length-r.length;return n>=e&&("undefined"==typeof i||i>=n)},t.isByteLength=function(t,e,i){var r=encodeURI(t).split(/%..|./).length-1;return r>=e&&("undefined"==typeof i||i>=r)},t.isUUID=function(t,e){var i=p[e?e:"all"];return i&&i.test(t)},t.isDate=function(t){return!isNaN(Date.parse(t))},t.isAfter=function(e,i){var r=t.toDate(i||new Date),n=t.toDate(e);return!!(n&&r&&n>r)},t.isBefore=function(e,i){var r=t.toDate(i||new Date),n=t.toDate(e);return!!(n&&r&&r>n)},t.isIn=function(e,i){var r;if("[object Array]"===Object.prototype.toString.call(i)){var n=[];for(r in i)n[r]=t.toString(i[r]);return n.indexOf(e)>=0}return"object"==typeof i?i.hasOwnProperty(e):i&&"function"==typeof i.indexOf?i.indexOf(e)>=0:!1},t.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!o.test(e))return!1;for(var i,r,n,s=0,a=e.length-1;a>=0;a--)i=e.substring(a,a+1),r=parseInt(i,10),n?(r*=2,s+=r>=10?r%10+1:r):s+=r,n=!n;return!!(s%10===0?e:!1)},t.isISIN=function(t){if(!h.test(t))return!1;for(var e,i,r=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),n=0,s=!0,a=r.length-2;a>=0;a--)e=r.substring(a,a+1),i=parseInt(e,10),s?(i*=2,n+=i>=10?i+1:i):n+=i,s=!s;return parseInt(t.substr(t.length-1),10)===(1e4-n)%10},t.isISBN=function(e,i){if(i=t.toString(i),!i)return t.isISBN(e,10)||t.isISBN(e,13);var r,n=e.replace(/[\s-]+/g,""),s=0;if("10"===i){if(!l.test(n))return!1;for(r=0;9>r;r++)s+=(r+1)*n.charAt(r);if(s+="X"===n.charAt(9)?100:10*n.charAt(9),s%11===0)return!!n}else if("13"===i){if(!f.test(n))return!1;var a=[1,3];for(r=0;12>r;r++)s+=a[r%2]*n.charAt(r);if(n.charAt(12)-(10-s%10)%10===0)return!!n}return!1},t.isMobilePhone=function(t,e){return e in D?D[e].test(t):!1};var j={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};t.isCurrency=function(t,r){return r=e(r,j),i(r).test(t)},t.isJSON=function(t){try{var e=JSON.parse(t);return!!e&&"object"==typeof e}catch(i){}return!1},t.isMultibyte=function(t){return m.test(t)},t.isAscii=function(t){return A.test(t)},t.isFullWidth=function(t){return b.test(t)},t.isHalfWidth=function(t){return $.test(t)},t.isVariableWidth=function(t){return b.test(t)&&$.test(t)},t.isSurrogatePair=function(t){return E.test(t)},t.isBase64=function(t){return S.test(t)},t.isMongoId=function(e){return t.isHexadecimal(e)&&24===e.length},t.isISO8601=function(t){return V.test(t)},t.ltrim=function(t,e){var i=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(i,"")},t.rtrim=function(t,e){var i=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(i,"")},t.trim=function(t,e){var i=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(i,"")},t.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},t.stripLow=function(e,i){var r=i?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return t.blacklist(e,r)},t.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},t.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var z={lowercase:!0};return t.normalizeEmail=function(i,r){if(r=e(r,z),!t.isEmail(i))return!1;var n=i.split("@",2);if(n[1]=n[1].toLowerCase(),"gmail.com"===n[1]||"googlemail.com"===n[1]){if(n[0]=n[0].toLowerCase().replace(/\./g,""),"+"===n[0][0])return!1;n[0]=n[0].split("+")[0],n[1]="gmail.com"}else r.lowercase&&(n[0]=n[0].toLowerCase());return n.join("@")},t.init(),t})},{}],3:[function(t,e,i){(function(r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();!function(t,r){"undefined"!=typeof i&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&"object"==typeof define.amd?define(r):this[t]=r()}("VC",function(){function e(t,e,i,r){for(var n=!0;n;){var s=t,a=e,u=i,o=r;if(n=!1,!s||!a)return void 0;if(!u&&a.indexOf(".")>-1)u=a.split("."),t=s[u[0]],e=u[0],i=u,r=1,n=!0;else{if(!u||!u[o+1])return u&&u[o]?s[u[o]]:s[a];t=s[u[o]],e=u[o],i=u,r=o+1,n=!0}}}function i(t,e,i){if(!t||!e)throw new Error("objectSetMethod 需要object和key参数");var r=e.split(".");try{return r.reduce(function(t,e,n){return void 0!==r[n+1]?t[e]:t[e]=i},t),!0}catch(n){return!1}}var a=t("validator"),u={phone:/^(\+?0?86\-?)?1[345789]\d{9}$/,objectId:/^[0-9a-fA-F]{24}$/,alpha:/^[A-Z]+$/i,alphanumeric:/^[0-9A-Z]+$/i,numeric:/^[-+]?[0-9]+$/,"int":/^(?:[-+]?(?:0|[1-9][0-9]*))$/,"float":/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,hexadecimal:/^[0-9A-F]+$/i,decimal:/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,hexcolor:/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,ascii:/^[\x00-\x7F]+$/,base64:/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i},o=function(){function t(e,i){n(this,t),this.key=null,this._errs=[],this._san={},this._alias={},this.opt=i?!0:!1,this.target=e,this.takeWhatWeHave=i,this.inArrayMode=!1,this.inArray={index:0,arrayKey:null}}return s(t,[{key:"addError",value:function(t){if(this._san[this.key]&&delete this._san[this.key],this.inArrayMode){var e=this.inArray,i=e.index,r=e.arrayKey,n=this._alias[r],s=this.target[r][i],a=this._alias[r+"."+i+"."+this.key],u=s&&!s[this.key];a=u?(n||r)+"."+i:(n||r)+"."+i+"."+(a||this.key)}else var a=this._alias[this.key];a&&(t=a+": "+t.replace(/\S+\:\s/,"")),this._errs.push(t)}},{key:"alias",value:function(t){if(!this.key)return this.next=!1,this;if(this.inArrayMode){var e=this.inArray,i=e.index,r=e.arrayKey;this._alias[r+"."+i+"."+this.key]=t}else this._alias[this.key]=t;return this}},{key:"check",value:function(t){if(this.key=t,this.next=!0,this.opt=!1,void 0!==this.target[t])this._san[t]=this.target[t],this.isNested=!1;else if(t.indexOf(".")>-1){this.isNested=!0;var e=t.split(".")[0];this._san[e]||(this._san[e]=this.target[e])}else this.isNested=!1,this.opt=!0;return this}},{key:"array",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;if(Array.isArray(i)){if("function"==typeof t){this.inArrayMode=!0,this.inArray.arrayKey=this.key;var r=this;i.forEach(function(e,i){r.inArray.index=i,t(r,i)}),this.inArrayMode=!1}}else this.addError(e||this.key+": 需要为一个数组");return this}},{key:"required",value:function(t){return this.takeWhatWeHave?(this.opt=!0,this):this.next?(this.opt=!1,void 0===this.currentVal&&(this.addError(t||this.key+": 为必填字段"),this.next=!1),this):this}},{key:"optional",value:function(){return this.next?(this.opt=!0,this):this}},{key:"between",value:function(t,e,i){if(!this.next)return this;var r=this.currentVal;if(this.opt&&!r)return this;var n=typeof r;return("string"===n||Array.isArray(r))&&(r.length>e||r.lenth<t)?this.addError(i||this.key+": 长度应该在"+t+"-"+e+"个字符之间"):"number"===n&&(r>e||t>r)&&this.addError(i||this.key+": 大小应该在"+t+"-"+e+"之间"),this}},{key:"max",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;var r=typeof i;return("string"===r||Array.isArray(i))&&i.length>t?this.addError(e||this.key+": 最多"+t+"个字符"):"number"===r&&i>t&&this.addError(e||this.key+": 最大值为"+t),this}},{key:"min",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;var r=typeof i;return("string"===r||Array.isArray(i))&&i.length<t?this.addError(e||this.key+": 最少"+t+"个字符"):"number"===r&&t>i&&this.addError(e||this.key+": 最小值为"+t),this}},{key:"regx",value:function(t,e,i){if(!this.next)return this;var r=this.currentVal;return this.opt&&!r?this:("[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,i)),t.test(r)||this.addError(e||this.key+": 不合格"+t.toString()+"的格式"),this)}},{key:"$apply",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;if("function"!=typeof t)throw new Error("$apply第一个参数必须为function");return t(i)||this.addError(e||this.key+": "+i+"不是正确的格式"),this}},{key:"date",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isDate(e)||this.addError(t||this.key+": "+e+"不符合日期格式"),this)}},{key:"before",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isBefore(i,t)||this.addError(e||this.key+": "+i+"需要在"+t+"之前"),this)}},{key:"after",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isAfter(i,t)||this.addError(e||this.key+": "+i+"需要在"+t+"之后"),this)}},{key:"in",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isIn(i,t)||this.addError(e||this.key+": "+i+"需要在["+t.toString()+"]之中"),this)}},{key:"email",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isEmail(i,e)||this.addError(t||this.key+": "+i+"不是常规的email"),this)}},{key:"JSON",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isJSON(e)||this.addError(t||this.key+": "+e+"不是JSON格式字符串"),this)}},{key:"URL",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isURL(i,e)||this.addError(t||this.key+": "+i+"不符合URL的格式"),this)}},{key:"phone",value:function(t){return this.regx(u.phone,t||this.key+": "+this.target[this.key]+"不是常规的手机号码")}},{key:"numeric",value:function(t){return this.regx(u.numeric,t||this.key+": "+this.target[this.key]+"必须为纯数字")}},{key:"decimal",value:function(t){return this.regx(u.decimal,t||this.key+": "+this.target[this.key]+"必须为小数格式数字")}},{key:"float",value:function(t){return this.regx(u["float"],t||this.key+": "+this.target[this.key]+"必须为float格式数字")}},{key:"hex",value:function(t){return this.regx(u.hexadecimal,t||this.key+": "+this.target[this.key]+"必须为16进制数字")}},{key:"alpha",value:function(t){return this.regx(u.alpha,t||this.key+": "+this.target[this.key]+"必须为纯字母")}},{key:"alphanumeric",value:function(t){return this.regx(u.alphanumeric,t||this.key+": "+this.target[this.key]+"必须为纯字母和数字的组合")}},{key:"ascii",value:function(t){return this.regx(u.ascii,t||this.key+": "+this.target[this.key]+"必须为符合规范的ASCII码")}},{key:"objectId",value:function(t){return this.regx(u.objectId,t||this.target[this.key]+"不是常规的ObjectId")}},{key:"base64",value:function(t){return this.regx(u.base64,t||this.key+": "+this.target[this.key]+"必须为符合规范的Base64编码")}},{key:"creditCard",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isCreditCard(e)||this.addError(t||this.key+": "+e+"不符合信用卡的格式"),this)}},{key:"currency",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isCurrency(i,t||{symbol:"￥"})||this.addError(e||this.key+": "+i+"不符合信用卡的格式"),this)}},{key:"setSanitizedVal",value:function(t){if(this.isNested)i(this._san,this.key,t);else if(this.inArrayMode){var e=this.inArray,r=e.index,n=e.arrayKey,s=this.target[n][r],a=s&&!s[this.key];a?this._san[n][r]=t:this._san[n][r][this.key]=t}else this._san[this.key]=t}},{key:"sanitize",value:function(t){if(!this.next)return this;var e=this.currentVal;if(this.opt&&!e)return this;if("function"!=typeof t)throw new Error("sanitize第一个参数必须为function");return this.setSanitizedVal(t(e)),this}},{key:"trim",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(t.trim?t.trim():t),this)}},{key:"whitelist",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(e.replace(new RegExp("[^"+t+"]+","g"),"")),this)}},{key:"blacklist",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(e.replace(new RegExp("["+t+"]+","g"),"")),this)}},{key:"escape",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")),this)}},{key:"toBoolean",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(t&&(this._san[this.key]="1"===e||"true"===e),this.setSanitizedVal("0"!==e&&"false"!==e&&""!==e),this)}},{key:"toDate",value:function(){if(!this.next)return this;var t=this.currentVal;if(this.opt&&!t)return this;if("[object Date]"===Object.prototype.toString.call(t))this.setSanitizedVal(t);else{var e=Date.parse(t);this.setSanitizedVal(isNaN(e)?null:new Date(e))}return this}},{key:"toFloat",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(parseFloat(t)),this)}},{key:"toInt",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(parseInt(e,t||10)),this)}},{key:"toString",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:("object"==typeof t&&null!==t&&t.toString?this.setSanitizedVal(t.toString()):null===t||"undefined"==typeof t||isNaN(t)&&!t.length?this.setSanitizedVal(""):"string"!=typeof t&&this.setSanitizedVal(t+""),this)}},{key:"errors",get:function(){return this._errs[0]?this._errs:null}},{key:"sanitized",get:function(){return Object.keys(this._san).length>0?this._san:null}},{key:"currentVal",get:function(){if(this.inArrayMode){var t=this.target[this.inArray.arrayKey],i=t[this.inArray.index];return i&&i[this.key]?i[this.key]:i}return e(this.target,this.key)}}]),t}();return r.browser&&(window.VC=o,window.Validator=a),o})}).call(this,t("1YiZ5S"))},{"1YiZ5S":1,validator:2}]},{},[3]);