!function t(e,i,r){function n(a,h){if(!i[a]){if(!e[a]){var o="function"==typeof require&&require;if(!h&&o)return o(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return n(i?i:t)},u,u.exports,t,e,i,r)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,i){function r(){}var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var i=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var r=i.shift();r()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],2:[function(t,e,i){(function(r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();!function(t,r){"undefined"!=typeof i&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&"object"==typeof define.amd?define(r):this[t]=r()}("VC",function(){function e(t,e,i,r){for(var n=!0;n;){var s=t,a=e,h=i,o=r;if(n=!1,!s||!a)return void 0;if(!h&&a.indexOf(".")>-1)h=a.split("."),t=s[h[0]],e=h[0],i=h,r=1,n=!0;else{if(!h||!h[o+1])return h&&h[o]?s[h[o]]:s[a];t=s[h[o]],e=h[o],i=h,r=o+1,n=!0}}}function i(t,e,i){if(!t||!e)throw new Error("objectSetMethod 需要object和key参数");var r=e.split(".");try{return r.reduce(function(t,e,n){return void 0!==r[n+1]?t[e]:t[e]=i,void 0!==r[n+1]?(t[e]||(t[e]=t.regx.numeric.test(r[n+1])?[]:{}),t[e]):t[e]=i},t),!0}catch(n){return!1}}var a=t("./validator.js"),h=function(){function t(r,s){n(this,t),this.key=null,this._errs=[],this.errorFields=[],this._san={},this._alias={},this.opt=s?!0:!1,this.target=r,this.takeWhatWeHave=s,this.inArrayMode=!1,this.inArray={index:0,arrayKey:null},this.getter=e,this.setter=i}return s(t,[{key:"addError",value:function(t){if(this.inArrayMode){var r=this.inArray,n=r.index,s=r.arrayKey,a=this._alias[s],h=e(this.target,s)[n],o=this._alias[s+"."+n+"."+this.key],u=h&&!e(h,this.key);o=u?(a||s)+"."+n:(a||s)+"."+n+"."+(o||this.key),this.errorFields.push(s+"."+n+(u?"":"."+this.key)),e(this._san,s)[n]&&i(this._san,s+"."+n+(u?"":this.key),void 0)}else{e(this._san,this.key)&&i(this._san,this.key,void 0);var o=this._alias[this.key];this.errorFields.push(this.key)}o&&(t=o+": "+t.replace(/\S+\:\s/,"")),this._errs.push(t)}},{key:"alias",value:function(t){if(!this.key)return this.next=!1,this;if(this.inArrayMode){var e=this.inArray,i=e.index,r=e.arrayKey;this._alias[r+"."+i+"."+this.key]=t}else this._alias[this.key]=t;return this}},{key:"check",value:function(t){this.key=t,this.next=!0,this.opt=!1;var e=this.currentVal;return void 0!==e?this.inArrayMode||i(this._san,t,e):this.opt=!0,this}},{key:"array",value:function(t,e){if(!this.next)return this;var r=this.currentVal;if(this.opt&&!r)return this;if(Array.isArray(r)){if("function"==typeof t){this.inArrayMode=!0,this.inArray.arrayKey=this.key,i(this._san,this.key,r);var n=this;r.forEach(function(e,i){n.inArray.index=i,t(n,i)}),this.inArrayMode=!1}}else this.addError(e||this.key+": 需要为一个数组");return this}},{key:"required",value:function(t){return this.takeWhatWeHave?(this.opt=!0,this):this.next?(this.opt=!1,void 0===this.currentVal&&(this.addError(t||this.key+": 为必填字段"),this.next=!1),this):this}},{key:"optional",value:function(){return this.next?(this.opt=!0,this):this}},{key:"between",value:function(t,e,i){if(!this.next)return this;var r=this.currentVal;if(this.opt&&!r)return this;var n=typeof r;return("string"===n||Array.isArray(r))&&(r.length>e||r.lenth<t)?this.addError(i||this.key+": 长度应该在"+t+"-"+e+"个字符之间"):"number"===n&&(r>e||t>r)&&this.addError(i||this.key+": 大小应该在"+t+"-"+e+"之间"),this}},{key:"max",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;var r=typeof i;return("string"===r||Array.isArray(i))&&i.length>t?this.addError(e||this.key+": 最多"+t+"个字符"):"number"===r&&i>t&&this.addError(e||this.key+": 最大值为"+t),this}},{key:"min",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;var r=typeof i;return("string"===r||Array.isArray(i))&&i.length<t?this.addError(e||this.key+": 最少"+t+"个字符"):"number"===r&&t>i&&this.addError(e||this.key+": 最小值为"+t),this}},{key:"regx",value:function(t,e,i){if(!this.next)return this;var r=this.currentVal;return this.opt&&!r?this:("[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,i)),t.test(r)||this.addError(e||this.key+": 不合格"+t.toString()+"的格式"),this)}},{key:"$apply",value:function(t,e){if(!this.next)return this;var i=this.currentVal;if(this.opt&&!i)return this;if("function"!=typeof t)throw new Error("$apply第一个参数必须为function");return t(i)||this.addError(e||this.key+": "+i+"不是正确的格式"),this}},{key:"date",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isDate(e)||this.addError(t||this.key+": "+e+"不符合日期格式"),this)}},{key:"before",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isBefore(i,t)||this.addError(e||this.key+": "+i+"需要在"+t+"之前"),this)}},{key:"after",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isAfter(i,t)||this.addError(e||this.key+": "+i+"需要在"+t+"之后"),this)}},{key:"in",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isIn(i,t)||this.addError(e||this.key+": "+i+"需要在["+t.toString()+"]之中"),this)}},{key:"email",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isEmail(i,e)||this.addError(t||this.key+": "+i+"不是常规的email"),this)}},{key:"JSON",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isJSON(e)||this.addError(t||this.key+": "+e+"不是JSON格式字符串"),this)}},{key:"URL",value:function(t,e){if(!this.next)return this;var i=this.currentVal;return this.opt&&!i?this:(a.isURL(i,e)||this.addError(t||this.key+": "+i+"不符合URL的格式"),this)}},{key:"phone",value:function(t){return this.regx(a.regx.phone,t||this.key+": "+this.currentVal+"不是常规的手机号码")}},{key:"numeric",value:function(t){return this.regx(a.regx.numeric,t||this.key+": "+this.currentVal+"必须为纯数字")}},{key:"decimal",value:function(t){return this.regx(a.regx.decimal,t||this.key+": "+this.currentVal+"必须为小数格式数字")}},{key:"float",value:function(t){return this.regx(a.regx["float"],t||this.key+": "+this.currentVal+"必须为float格式数字")}},{key:"hex",value:function(t){return this.regx(a.regx.hexadecimal,t||this.key+": "+this.currentVal+"必须为16进制数字")}},{key:"alpha",value:function(t){return this.regx(a.regx.alpha,t||this.key+": "+this.currentVal+"必须为纯字母")}},{key:"alphanumeric",value:function(t){return this.regx(a.regx.alphanumeric,t||this.key+": "+this.currentVal+"必须为纯字母和数字的组合")}},{key:"ascii",value:function(t){return this.regx(a.regx.ascii,t||this.key+": "+this.currentVal+"必须为符合规范的ASCII码")}},{key:"objectId",value:function(t){return this.regx(a.regx.objectId,t||this.currentVal+"不是常规的ObjectId")}},{key:"base64",value:function(t){return this.regx(a.regx.base64,t||this.key+": "+this.currentVal+"必须为符合规范的Base64编码")}},{key:"creditCard",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(a.isCreditCard(e)||this.addError(t||this.key+": "+e+"不符合信用卡的格式"),this)}},{key:"setSanitizedVal",value:function(t){if(this.inArrayMode){var r=this.inArray,n=r.index,s=r.arrayKey,a=e(this.target,s)[n],h=a&&!e(a,this.key);h?i(this._san,s+"."+n,t):i(this._san,s+"."+n+"."+this.key,t)}else i(this._san,this.key,t)}},{key:"sanitize",value:function(t){if(!this.next)return this;var e=this.currentVal;if(this.opt&&!e)return this;if("function"!=typeof t)throw new Error("sanitize第一个参数必须为function");return this.setSanitizedVal(t(e)),this}},{key:"trim",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(t.trim?t.trim():t),this)}},{key:"whitelist",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(e.replace(new RegExp("[^"+t+"]+","g"),"")),this)}},{key:"blacklist",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(e.replace(new RegExp("["+t+"]+","g"),"")),this)}},{key:"escape",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")),this)}},{key:"toBoolean",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(t&&this.setSanitizedVal("1"===e||"true"===e),this.setSanitizedVal("0"!==e&&"false"!==e&&""!==e),this)}},{key:"toDate",value:function(){if(!this.next)return this;var t=this.currentVal;if(this.opt&&!t)return this;if("[object Date]"===Object.prototype.toString.call(t))this.setSanitizedVal(t);else{var e=Date.parse(t);this.setSanitizedVal(isNaN(e)?null:new Date(e))}return this}},{key:"toFloat",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:(this.setSanitizedVal(parseFloat(t)),this)}},{key:"toInt",value:function(t){if(!this.next)return this;var e=this.currentVal;return this.opt&&!e?this:(this.setSanitizedVal(parseInt(e,t||10)),this)}},{key:"toString",value:function(){if(!this.next)return this;var t=this.currentVal;return this.opt&&!t?this:("object"==typeof t&&null!==t&&t.toString?this.setSanitizedVal(t.toString()):null===t||"undefined"==typeof t||isNaN(t)&&!t.length?this.setSanitizedVal(""):"string"!=typeof t&&this.setSanitizedVal(t+""),this)}},{key:"errors",get:function(){return this._errs[0]?this._errs:null}},{key:"sanitized",get:function(){return Object.keys(this._san).length>0?this._san:null}},{key:"currentVal",get:function(){if(this.inArrayMode){var t=e(this.target,this.inArray.arrayKey),i=t[this.inArray.index],r=e(i,this.key);return i&&r?r:i}return e(this.target,this.key)}}]),t}();return r.browser&&(window.VC=h,window.Validator=a),h})}).call(this,t("1YiZ5S"))},{"./validator.js":3,"1YiZ5S":1}],3:[function(t,e,i){"use strict";function r(t){return"object"==typeof t&&null!==t&&t.toString?t=t.toString():null===t||"undefined"==typeof t||isNaN(t)&&!t.length?t="":"string"!=typeof t&&(t+=""),t}function n(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))}function s(t){return!isNaN(Date.parse(t))}function a(){var t=n(date||new Date),e=n(str);return!!(e&&t&&t>e)}function h(t,e){var i=n(e||new Date),r=n(t);return!!(r&&i&&r>i)}function o(t,e){var i;if("[object Array]"===Object.prototype.toString.call(e)){var n=[];for(i in e)n[i]=r(e[i]);return n.indexOf(t)>=0}return"object"==typeof e?e.hasOwnProperty(t):e&&"function"==typeof e.indexOf?e.indexOf(t)>=0:!1}function u(t){return y.email.test(t)}function l(){try{var t=JSON.parse(str);return!!t&&"object"==typeof t}catch(e){}return!1}function f(t){return y.ipv4Maybe.test(t)||y.regx.ipv6Block.test(t)}function c(t,e){if(!t||t.length>=2083||/\s/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;e=merge(e,default_url_options);var i,r,n,s,a,h,o;if(o=t.split("://"),o.length>1){if(i=o.shift(),e.require_valid_protocol&&-1===e.protocols.indexOf(i))return!1}else{if(e.require_protocol)return!1;e.allow_protocol_relative_urls&&"//"===t.substr(0,2)&&(o[0]=t.substr(2))}return t=o.join("://"),o=t.split("#"),t=o.shift(),o=t.split("?"),t=o.shift(),o=t.split("/"),t=o.shift(),o=t.split("@"),o.length>1&&(r=o.shift(),r.indexOf(":")>=0&&r.split(":").length>2)?!1:(s=o.join("@"),o=s.split(":"),n=o.shift(),o.length&&(h=o.join(":"),a=parseInt(h,10),!/^[0-9]+$/.test(h)||0>=a||a>65535)?!1:f(n)||"localhost"===n?e.host_whitelist&&-1===e.host_whitelist.indexOf(n)?!1:e.host_blacklist&&-1!==e.host_blacklist.indexOf(n)?!1:!0:!1)}function d(t){var e=t.replace(/[^0-9]+/g,"");if(!y.creditCard.test(e))return!1;for(var i,r,n,s=0,a=e.length-1;a>=0;a--)i=e.substring(a,a+1),r=parseInt(i,10),n?(r*=2,s+=r>=10?r%10+1:r):s+=r,n=!n;return!!(s%10===0?e:!1)}Object.defineProperty(i,"__esModule",{value:!0}),i.toDate=n,i.isDate=s,i.isBefore=a,i.isAfter=h,i.isIn=o,i.isEmail=u,i.isJSON=l,i.isIP=f,i.isURL=c,i.isCreditCard=d;var y={phone:/^(\+?0?86\-?)?1[345789]\d{9}$/,email:/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,objectId:/^[0-9a-fA-F]{24}$/,alpha:/^[A-Z]+$/i,alphanumeric:/^[0-9A-Z]+$/i,numeric:/^[-+]?[0-9]+$/,"int":/^(?:[-+]?(?:0|[1-9][0-9]*))$/,"float":/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,hexadecimal:/^[0-9A-F]+$/i,decimal:/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,hexcolor:/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,ascii:/^[\x00-\x7F]+$/,base64:/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,ipv4Maybe:/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,ipv6Block:/^[0-9A-F]{1,4}$/i};i.regx=y},{}]},{},[2]);